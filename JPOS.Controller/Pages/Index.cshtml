@page
@model IndexModel
@{
    ViewData["Title"] = "Product";
    var isAuthenticated = HttpContext.Session.GetString("Email");
}
<header>
    @if (isAuthenticated != null)
    {
        <span style="margin-left: 150px; padding: 20px;font-size:20px">Welcome, @isAuthenticated</span>
    }
    else
    {
        <a style="padding: 0px 10px 0px 950px" asp-page="/LoginPage">Login</a> <a asp-page="/RegisterPage">Register</a>
    }
</header>
<body>
    <div style="height: 100%; width: 200px; position: fixed; top: 70px; left: -20px; background-color: #ffffff; padding-top: 20px;">
        <a style="padding: 8px 16px; margin: 10px; display: block; font-size: 14px; font-weight: bold; color: #ffffff; background-color: #28a745; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; text-align: center;"
           onmouseover="this.style.backgroundColor='#218838';"
           onmouseout="this.style.backgroundColor='#28a745';" asp-page="MaterialPage/Index">Material</a>

        <a style="padding: 8px 16px; margin: 10px; display: block; font-size: 14px; font-weight: bold; color: #ffffff; background-color: #28a745; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; text-align: center;"
           onmouseover="this.style.backgroundColor='#218838';"
           onmouseout="this.style.backgroundColor='#28a745';" asp-page="/Index">Product</a>
    </div>

    <!-- Nội dung trang -->
    <div style="margin-left: 110px; padding: 20px;">
        <h2>Products</h2>
        @if (isAuthenticated != null)
        {
            <p>
                <a style="padding: 8px 16px; font-size: 14px; font-weight: bold; color: #ffffff; background-color: #007bff; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;" onmouseover="this.style.backgroundColor='#0056b3';" onmouseout="this.style.backgroundColor='#007bff';" asp-page="Create">Create New</a>
            </p>
        }
        <table class="table">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(model => model.Product[0].Image)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].ProcessPrice)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].ProductName)</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Product)
                {
                    <tr>
                        <td>
                            <img src="https://res.cloudinary.com/dkyv1vp1c/image/upload/v1719498274/qhc3ccgjiove18ldf5fz.jpg" alt="Product Image" style="width:50px;height:auto;" />
                        </td>
                        <td>@Html.DisplayFor(modelItem => item.ProcessPrice)</td>
                        <td style="min-width: 450px; max-width:500px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">@Html.DisplayFor(modelItem => item.ProductName)</td>
                        @if(isAuthenticated != null)
                        {
                            <td>
                                <a style="padding: 8px 16px; font-size: 14px; font-weight: bold; color: #ffffff; background-color: #007bff; border: none; border-radius: 4px; cursor: pointer;" onmouseover="this.style.backgroundColor='#0056b3';" onmouseout="this.style.backgroundColor='#007bff';" asp-page="/Product/Edit" asp-route-id="@item.ProductId">Edit</a> |
                                <a style="padding: 8px 16px; font-size: 14px; font-weight: bold; color: #ffffff; background-color: #007bff; border: none; border-radius: 4px; cursor: pointer;" onmouseover="this.style.backgroundColor='#0056b3';" onmouseout="this.style.backgroundColor='#007bff';" asp-page="/Product/Details" asp-route-id="@item.ProductId">Details</a> |
                                <a style="padding: 8px 16px; font-size: 14px; font-weight: bold; color: #ffffff; background-color: #007bff; border: none; border-radius: 4px; cursor: pointer;" onmouseover="this.style.backgroundColor='#0056b3';" onmouseout="this.style.backgroundColor='#007bff';" asp-page="./Delete" asp-route-id="@item.ProductId">Delete</a>
                            </td>
                        }

                    </tr>
                }
            </tbody>
        </table>

        
    </div>

    </body>